
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Android 开发概览 | KimYan&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="KimYan">
    
    <meta name="description" content="这部分描述怎样创建 Android 应用程序，主要使用 Eclipse IDE 来开发，系统基于 Android 4.4(KitKat)。
什么是 Android ？
Android 操作系统
Android 是一个基于 Linux 内核（Kernel）上的操作系统，负责开发 Android 系统的">
    
    
    
    
    <link rel="alternative" href="/atom.xml" title="KimYan&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="KimYan&#39;s Blog" title="KimYan&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="KimYan&#39;s Blog">KimYan&#39;s Blog</a></h1>
				<h2 class="blog-motto">如果今天是我生命的最后一天，我还会继续吗？</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">博客</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="Search" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/09/12/Android 开发概览/" title="Android 开发概览" itemprop="url">Android 开发概览</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://www.yanjinwen.com/about" title="KimYan" target="_blank" itemprop="author">KimYan</a>
		
  <p class="article-time">
    <time datetime="2014-09-12T11:32:27.000Z" itemprop="datePublished"> 发表于 2014-09-12</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是_Android_？"><span class="toc-number">1.</span> <span class="toc-text">什么是 Android ？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_操作系统"><span class="toc-number">1.1.</span> <span class="toc-text">Android 操作系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#任务"><span class="toc-number">1.2.</span> <span class="toc-text">任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_平台组件"><span class="toc-number">1.3.</span> <span class="toc-text">Android 平台组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Google_Play"><span class="toc-number">1.4.</span> <span class="toc-text">Google Play</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_开发工具"><span class="toc-number">2.</span> <span class="toc-text">Android 开发工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_SDK"><span class="toc-number">2.1.</span> <span class="toc-text">Android SDK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_调试桥（adb）"><span class="toc-number">2.2.</span> <span class="toc-text">Android 调试桥（adb）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_开发工具和_Android_Studio"><span class="toc-number">2.3.</span> <span class="toc-text">Android 开发工具和 Android Studio</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dalvik_虚拟机"><span class="toc-number">2.4.</span> <span class="toc-text">Dalvik 虚拟机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_运行时（ART）"><span class="toc-number">2.5.</span> <span class="toc-text">Android 运行时（ART）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何开发_Android_应用程序"><span class="toc-number">2.6.</span> <span class="toc-text">如何开发 Android 应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#从源代码到_Android_应用程序的转换过程"><span class="toc-number">2.7.</span> <span class="toc-text">从源代码到 Android 应用程序的转换过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安全和权限"><span class="toc-number">3.</span> <span class="toc-text">安全和权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_中的安全概念"><span class="toc-number">3.1.</span> <span class="toc-text">Android 中的安全概念</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">4.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_设备模拟器和_Android_虚拟设备"><span class="toc-number">5.</span> <span class="toc-text">Android 设备模拟器和 Android 虚拟设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_模拟器和_Android_虚拟设备"><span class="toc-number">5.1.</span> <span class="toc-text">Android 模拟器和 Android 虚拟设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_模拟器设备的一些快捷键"><span class="toc-number">5.2.</span> <span class="toc-text">Android 模拟器设备的一些快捷键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#谷歌的_Android_AVD"><span class="toc-number">5.3.</span> <span class="toc-text">谷歌的 Android AVD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#速度优化"><span class="toc-number">5.4.</span> <span class="toc-text">速度优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#英特尔系统镜像"><span class="toc-number">5.5.</span> <span class="toc-text">英特尔系统镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他（第三方）模拟器"><span class="toc-number">5.6.</span> <span class="toc-text">其他（第三方）模拟器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：创建一个_Android_虚拟设备（AVD）"><span class="toc-number">6.</span> <span class="toc-text">练习：创建一个 Android 虚拟设备（AVD）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#目标"><span class="toc-number">6.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个_AVD"><span class="toc-number">6.2.</span> <span class="toc-text">创建一个 AVD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动你的_AVD"><span class="toc-number">6.3.</span> <span class="toc-text">启动你的 AVD</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：在_Eclipse_中创建一个_Android_应用程序"><span class="toc-number">7.</span> <span class="toc-text">练习：在 Eclipse 中创建一个 Android 应用程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用_Android_项目向导"><span class="toc-number">7.1.</span> <span class="toc-text">使用 Android 项目向导</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个_Android_项目"><span class="toc-number">7.2.</span> <span class="toc-text">创建一个 Android 项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：启动生成的_Android_应用程序"><span class="toc-number">8.</span> <span class="toc-text">练习：启动生成的 Android 应用程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#启动_AVD"><span class="toc-number">8.1.</span> <span class="toc-text">启动 AVD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动应用程序"><span class="toc-number">8.2.</span> <span class="toc-text">启动应用程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解决_Android_开发问题"><span class="toc-number">9.</span> <span class="toc-text">解决 Android 开发问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#连接_Android_源代码"><span class="toc-number">10.</span> <span class="toc-text">连接 Android 源代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#连接源代码到你的_Android_Jar_文件"><span class="toc-number">10.1.</span> <span class="toc-text">连接源代码到你的 Android Jar 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#验证"><span class="toc-number">10.2.</span> <span class="toc-text">验证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集成_ADT_到_Eclipse_中"><span class="toc-number">11.</span> <span class="toc-text">集成 ADT 到 Eclipse 中</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#集成_Android_到_Java_视图中"><span class="toc-number">11.1.</span> <span class="toc-text">集成 Android 到 Java 视图中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_向导"><span class="toc-number">11.2.</span> <span class="toc-text">Android 向导</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDMS_视图"><span class="toc-number">12.</span> <span class="toc-text">DDMS 视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#模拟器控制"><span class="toc-number">12.1.</span> <span class="toc-text">模拟器控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件浏览器"><span class="toc-number">12.2.</span> <span class="toc-text">文件浏览器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_应用程序的一部分"><span class="toc-number">13.</span> <span class="toc-text">Android 应用程序的一部分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_应用程序"><span class="toc-number">13.1.</span> <span class="toc-text">Android 应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_软件组件"><span class="toc-number">13.2.</span> <span class="toc-text">Android 软件组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#上下文"><span class="toc-number">13.3.</span> <span class="toc-text">上下文</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_应用程序组件概述"><span class="toc-number">14.</span> <span class="toc-text">Android 应用程序组件概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Activity"><span class="toc-number">14.1.</span> <span class="toc-text">Activity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BroatcastReceiver"><span class="toc-number">14.2.</span> <span class="toc-text">BroatcastReceiver</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Service"><span class="toc-number">14.3.</span> <span class="toc-text">Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ContentProvider"><span class="toc-number">14.4.</span> <span class="toc-text">ContentProvider</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_中的基础用户界面组件"><span class="toc-number">15.</span> <span class="toc-text">Android 中的基础用户界面组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Activity-1"><span class="toc-number">15.1.</span> <span class="toc-text">Activity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fragments"><span class="toc-number">15.2.</span> <span class="toc-text">Fragments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#视图和布局管理"><span class="toc-number">15.3.</span> <span class="toc-text">视图和布局管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特定设备布局的配置"><span class="toc-number">15.4.</span> <span class="toc-text">特定设备布局的配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他重要的_Android_元素"><span class="toc-number">16.</span> <span class="toc-text">其他重要的 Android 元素</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#主屏幕（Home）和锁屏部件。"><span class="toc-number">16.1.</span> <span class="toc-text">主屏幕（Home）和锁屏部件。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态壁纸"><span class="toc-number">16.2.</span> <span class="toc-text">动态壁纸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_manifest_文件"><span class="toc-number">17.</span> <span class="toc-text">Android manifest 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#你的Android应用程序的配置"><span class="toc-number">17.1.</span> <span class="toc-text">你的Android应用程序的配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在_AndroidManifest_文件中声明的组件"><span class="toc-number">17.2.</span> <span class="toc-text">在 AndroidManifest 文件中声明的组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#权限"><span class="toc-number">17.3.</span> <span class="toc-text">权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#版本（Version）和包名(Package)"><span class="toc-number">17.4.</span> <span class="toc-text">版本（Version）和包名(Package)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用程序（Application）和组件（Components）"><span class="toc-number">17.5.</span> <span class="toc-text">应用程序（Application）和组件（Components）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#最低和目标版本"><span class="toc-number">17.6.</span> <span class="toc-text">最低和目标版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#权限-1"><span class="toc-number">17.7.</span> <span class="toc-text">权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#所需的设备配置"><span class="toc-number">17.8.</span> <span class="toc-text">所需的设备配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用程序的安装位置"><span class="toc-number">17.9.</span> <span class="toc-text">应用程序的安装位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更多信息"><span class="toc-number">17.10.</span> <span class="toc-text">更多信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#资源"><span class="toc-number">18.</span> <span class="toc-text">资源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#资源文件"><span class="toc-number">18.1.</span> <span class="toc-text">资源文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源例子"><span class="toc-number">18.2.</span> <span class="toc-text">资源例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源预选"><span class="toc-number">18.3.</span> <span class="toc-text">资源预选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源_IDs_和_R-java"><span class="toc-number">18.4.</span> <span class="toc-text">资源 IDs 和 R.java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源_IDs_的命名规范"><span class="toc-number">18.5.</span> <span class="toc-text">资源 IDs 的命名规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统资源"><span class="toc-number">18.6.</span> <span class="toc-text">系统资源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#布局资源文件"><span class="toc-number">19.</span> <span class="toc-text">布局资源文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#XML_布局文件"><span class="toc-number">19.1.</span> <span class="toc-text">XML 布局文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定义_IDs"><span class="toc-number">19.2.</span> <span class="toc-text">定义 IDs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#最佳实践：通过单独文件预定义_IDs"><span class="toc-number">19.3.</span> <span class="toc-text">最佳实践：通过单独文件预定义 IDs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布局的性能注意事项"><span class="toc-number">19.4.</span> <span class="toc-text">布局的性能注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#视图"><span class="toc-number">20.</span> <span class="toc-text">视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#View_类"><span class="toc-number">20.1.</span> <span class="toc-text">View 类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标准视图"><span class="toc-number">20.2.</span> <span class="toc-text">标准视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义视图"><span class="toc-number">20.3.</span> <span class="toc-text">自定义视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#布局管理器和_ViewGroups"><span class="toc-number">21.</span> <span class="toc-text">布局管理器和 ViewGroups</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是布局管理器？"><span class="toc-number">21.1.</span> <span class="toc-text">什么是布局管理器？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重要的布局管理器"><span class="toc-number">21.2.</span> <span class="toc-text">重要的布局管理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布局的属性"><span class="toc-number">21.3.</span> <span class="toc-text">布局的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinearLayout"><span class="toc-number">21.4.</span> <span class="toc-text">LinearLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FrameLayout"><span class="toc-number">21.5.</span> <span class="toc-text">FrameLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RelativeLayout"><span class="toc-number">21.6.</span> <span class="toc-text">RelativeLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GridLayout"><span class="toc-number">21.7.</span> <span class="toc-text">GridLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ScrollView"><span class="toc-number">21.8.</span> <span class="toc-text">ScrollView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用资源"><span class="toc-number">22.</span> <span class="toc-text">使用资源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#在代码中引用资源"><span class="toc-number">22.1.</span> <span class="toc-text">在代码中引用资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在一个_Activity_中访问布局的视图组件"><span class="toc-number">22.2.</span> <span class="toc-text">在一个 Activity 中访问布局的视图组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在_XML_文件中引用资源"><span class="toc-number">22.3.</span> <span class="toc-text">在 XML 文件中引用资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在_XML_文件中引用_Android_系统资源"><span class="toc-number">22.4.</span> <span class="toc-text">在 XML 文件中引用 Android 系统资源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Assets_文件"><span class="toc-number">23.</span> <span class="toc-text">Assets 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是_Assets？"><span class="toc-number">23.1.</span> <span class="toc-text">什么是 Assets？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问_Assets"><span class="toc-number">23.2.</span> <span class="toc-text">访问 Assets</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#部署"><span class="toc-number">24.</span> <span class="toc-text">部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述"><span class="toc-number">24.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过_Eclipse_部署"><span class="toc-number">24.2.</span> <span class="toc-text">通过 Eclipse 部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#导出你的应用程序"><span class="toc-number">24.3.</span> <span class="toc-text">导出你的应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过外部资源安装应用程序"><span class="toc-number">24.4.</span> <span class="toc-text">通过外部资源安装应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Google_Play-1"><span class="toc-number">24.5.</span> <span class="toc-text">Google Play</span></a></li></ol></li></ol>
		
		</div>
		
		<p>这部分描述怎样创建 Android 应用程序，主要使用 Eclipse IDE 来开发，系统基于 Android 4.4(KitKat)。</p>
<h2 id="什么是_Android_？">什么是 Android ？</h2>
<h3 id="Android_操作系统">Android 操作系统</h3>
<p>Android 是一个基于 Linux 内核（Kernel）上的操作系统，负责开发 Android 系统的项目被称为 Android 开源项目（AOSP），主要由谷歌主导。  </p>
<p>Android 系统支持后台进程，提供了丰富的用户界面库，使用了OpenGL-ES（Short OpenGL）的标准，并允许访问文件系统，以及一个嵌入式 SQLite 数据库，并支持 2-D 和 3-D 图形。  </p>
<p>Android 应用程序通常包含不同的可视化和非可视化组件，并且可以重复使用其他应用程序的组件。</p>
<h3 id="任务">任务</h3>
<p>在 Android 中，重用其他应用程序组件的概念被称之<em>任务</em>。一个应用程序可以通过访问其他 Android 组件来完成一个<em>任务</em>。例如，在你应用程序的一个组件中，可以触发 Android 系统中另外一个组件来管理照片，即使这个组件不是你应用程序中的一部分，然后通过这个组件选择一张照片并返回选中的照片来使用。  </p>
<p>下面的图片描述了这种工作流。</p>
<p><img src="http://kimpic.qiniudn.com/android_task_flow.jpg" alt=""></p>
<h3 id="Android_平台组件">Android 平台组件</h3>
<p>Android 系统是一个完整的软件栈，它通常分为四个区域，如下面所示。</p>
<p><img src="http://kimpic.qiniudn.com/android_software_stack.png" alt=""></p>
<p>以上四个等级的简单描述：  </p>
<p><strong>Applications（应用程序）</strong> —— Android 开源项目包含了几个默认的应用程序，如浏览器，相机，图库，音乐，电话等。  </p>
<p><strong>Application framework（应用程序框架）</strong> —— 可以让 Android 系统和 Android 应用程序之间进行高层次互动的应用程序接口。  </p>
<p><strong>Libraries and runtime（类库和运行时）</strong> —— 提供各种常用功能库（如：图形渲染，数据存储，网络浏览等）的应用程序框架和 Dalvik 运行时，以及核心 Java 库来运行 Android 应用程序。  </p>
<p><strong>Linux Kernel（Linux 内核）</strong> —— 底部硬件的通信层。  </p>
<p>Linux内核，库和运行时由应用程序框架封装。Android 应用开发者创建新的 Android 应用程序时，通常只接触到顶部两层。</p>
<h3 id="Google_Play">Google Play</h3>
<p>Google 提供的 Google Play 服务，开发者可以通过该平台提供自己的 Android 应用程序给 Android 用户使用。Google Play 服务允许用户购买和安装开发者提供的应用程序。  </p>
<p>Google Play 也提供了一个更新服务。如果一个开发者为他的应用程序更新了一个新的版本到 Google Play 上，这个服务将会通知已经使用该应用程序的用户，提示他们有更新可用并允许安装更新。  </p>
<p>Google Play 也为 Android 应用程序开发者提供了访问服务和各种类库的服务。比如，它提供了一个服务可以使用和显示谷歌地图，它提供了另外一个服务可以让不同的 Android 设备同步安装了相同应用程序的状态。Google Play 通过这些服务有利于部署老年人的 Android 版本，因为所有更新操作都可以由 Google 服务管理。</p>
<h2 id="Android_开发工具">Android 开发工具</h2>
<h3 id="Android_SDK">Android SDK</h3>
<p>Android 软件开发工具包（Android Software Development Kit）中包含了必要的工具来创建，编译和打包 Android 应用程序。这些工具大部分都是基于命令行，Android 应用程序开发的主要方式是基于 Java 编程语言的。</p>
<h3 id="Android_调试桥（adb）">Android 调试桥（adb）</h3>
<p>Android SDK 提供的一个工具（<em>Android debug bridge</em>），它允许你连接一个虚拟或者真实的 Android 设备，其目的是用来管理设备或者调试你的应用程序。</p>
<h3 id="Android_开发工具和_Android_Studio">Android 开发工具和 Android Studio</h3>
<p>Google 提供了两种集成开发环境（IDEs）来开发新的应用程序。  </p>
<p><em>Android Developer Tools</em> (ADT) 是基于 Eclipse IDE 的。ADT 是一系列的组件（插件），用来扩展 Eclipse IDE 的 Android 开发能力的。  </p>
<p>Google 同时也提供了另外一种 IDE 叫做 <em>Android Studio</em> 来创建 Android 应用程序。这个 IDE 是基于 <em>IntelliJ IDEA</em> 的。  </p>
<p>这两种集成开发环境都包含了必须的功能来创建，编译，调试和部署 Android 应用程序。它们还允许开发人员创建和启动虚拟设备用来进行测试。  </p>
<p>这两个工具都提供了专门的编辑器处理 Android 的特定文件。大部分 Android 的配置文件都是基于 XML 的。在这种情况下，这些编辑器允许您将文件的从 XML 表示形式和输入数据的结构化用户界面之间切换。  </p>
<h3 id="Dalvik_虚拟机">Dalvik 虚拟机</h3>
<p>目前 Android 版本使用 Dalvik 虚拟机。最新的 Android 版本引入了一个新的运行时（ART）。</p>
<h3 id="Android_运行时（ART）">Android 运行时（ART）</h3>
<p>Android 4.4 上，Google 为 Android 4.4 推出了一个可选的 Android 运行时（ART），它是 Android 4.4 后作为默认的 Android 运行时。  </p>
<p>ART 使用提前编译，一个 Android 设备的一个应用程序在部署的过程中，应用程序的代码被翻译成机器代码，这会导致产生超过30%的编译代码，但这样可以允许应用程序在开始运行的速度更快。  </p>
<p>这也节省了电池的使用寿命，因为编译只进行一次，就在应用程序第一次启动的时候。  </p>
<p>该 dex2oat 工具将会调用 Android 工具创建 .dex 文件，并编译成可执行和可链接格式（ELF）文件。此文件包含 DEX 的代码，编译为本地代码和元数据。允许保持 .dex 代码，使已经存在的工具持续有效。  </p>
<p>ART 的垃圾回收器已经得到了优化，以减少其中应用程序的冻结时间。</p>
<h3 id="如何开发_Android_应用程序">如何开发 Android 应用程序</h3>
<p>Android 应用程序主要使用 Java 语言来编写。  </p>
<p>在开发过程中，开发者要创建 Android 特定的配置文件和使用 Java 语言编写应用程序的逻辑。  </p>
<p><em>ADT</em> 或者 <em>Android Studio</em> 工具会转换这些特定的 Android 文件，对使用者完全透明，构成一个 Android 应用程序。当开发者在他们的 <em>IDE</em> 中触发部署，整个 Android 应用程序会被编译，打包，部署和运行。</p>
<h3 id="从源代码到_Android_应用程序的转换过程">从源代码到 Android 应用程序的转换过程</h3>
<p>Java 源文件是被 Java 编译器转换成 Java 类文件（Java class files）的。  </p>
<p><em>Android SDK</em> 中包含了一个工具，叫做 <em>DX</em> ，它把 Java 类文件转换成 <code>.dex</code> （Dalvik 可执行）文件。该应用程序的所有类文件都会放到这个 <code>.dex</code> 文件中。在这个转化过程中的类文件所产生的冗余信息将会在这个<code>.dex</code> 文件中得到优化。  </p>
<p>比如，如果在不同的类文件中发现相同的字符串（<code>String</code>）,<code>.dex</code> 文件仅仅只包含一个这个字符串（<code>String</code>）的引用。  </p>
<p>因此，<code>.dex</code> 文件比相应的类文件（<code>.class</code>）将要小得多。  </p>
<p><code>.dex</code> 文件和 Android 项目的资源文件，例如，图片和 <em>XML</em> 文件，将会被打包为一个<code>.apk</code>（Android Package）文件。<br>程序 <code>aapt</code> (Android Asset Packaging Tool) 会执行这一步。  </p>
<p>由此产生的 <em>apk</em> 文件包含了所有必要的数据来运行 Android 应用程序，并通过 <code>adb</code> 工具可以部署到Android设备上。</p>
<h2 id="安全和权限">安全和权限</h2>
<h3 id="Android_中的安全概念">Android 中的安全概念</h3>
<p>Android 系统安装每一个 Android 应用程序时都伴随一个唯一的用户或组 <em>ID</em>。每一个应用程序文件对这个产生的用户都是私有的，例如，其他应用程序不能访问这些文件，此外，每个 Android 应用程序都是运行在自己的进程中的。  </p>
<p>因此，这意味着在底层 Linux 内核的装置中，每一个 Android 应用程序与其他运行的应用程序都是隔离的。  </p>
<p>如果数据应该被分享，应用程序必须显式地通过 Android 组件来处理这些要被分享的数据，例如，通过一个服务（<code>Service</code>）或者内容提供者（<code>Content Provider</code>）。</p>
<h2 id="安装">安装</h2>
<p>跳转到：<a href="http://www.yanjinwen.com/2014/09/12/Android 开发工具安装/" target="_blank" rel="external">Android 开发工具安装</a></p>
<h2 id="Android_设备模拟器和_Android_虚拟设备">Android 设备模拟器和 Android 虚拟设备</h2>
<h3 id="Android_模拟器和_Android_虚拟设备">Android 模拟器和 Android 虚拟设备</h3>
<p>Android SDK 中包含了一个 Android 设备仿真器。该模拟器可用于运行一个Android虚拟设备（AVD），它模拟一个真实的Android手机。如下面的屏幕截图。</p>
<p><img src="http://blog-pics.qiniudn.com/android_avd.jpg" alt=""></p>
<p>AVDs 允许你在不同的 Android 版本上和没有真实硬件设备的情况下测试和配置你的应用程序。  </p>
<p>在创建你 AVD 的过程中，你可以自定义虚拟设备的配置，这包括，分辨率，Android 的 API 版本和显示器的密度等。  </p>
<p>你可以定义多种不同的设备和不同的配置，并可以并行运行它们。这可以使你一次测试不同配置的设备。</p>
<h3 id="Android_模拟器设备的一些快捷键">Android 模拟器设备的一些快捷键</h3>
<p>以下表格列出了一些在使用 AVD 的时候非常有用的快捷键。  </p>
<p><strong>表格一、Android 模拟器设备的快捷键</strong>  </p>
<p><img src="http://blog-pics.qiniudn.com/avd_shortcut.png" alt=""></p>
<h3 id="谷歌的_Android_AVD">谷歌的 Android AVD</h3>
<p>在创建一个 AVD 的时候，你可以选择是创建一个 Android 设备或 Google 设备（Google APIs）。  </p>
<p>为 Android 创建一个 AVD 包含了 Android 开源项目的程序（AOSP）。对于谷歌的 API 创建一个 AVD 包含了谷歌其他特定的代码。  </p>
<p>使用 Google APIs 创建的 AVD 允许你使用 <em>Google Play Service</em> 服务，比如，新的 Google 地图 API 和 新的位置服务。</p>
<h3 id="速度优化">速度优化</h3>
<p>在创建一个模拟器的时候，如果你想，你也可以启用 <em>Snapshot</em> 或者 <em>Use Host GPU</em>。  </p>
<blockquote>
<p>在创建模拟器的对话框面板上，允许你两个选项都启用的，但如果真这样做的话，会得到一个错误信息提示这两个选项不能同时选择。  </p>
</blockquote>
<p>如果你选择了 <em>Snapshot</em> 选项，当你第二次启动设备的时候会非常快，因为在关闭 AVD 的时候它已经把状态保存下了。  </p>
<p>如果你选择了 <em>Use Host GPU</em> 选项，AVD 将会直接使用你主机上的图形绘制，这样也会大大提升虚拟设备的运行速度。</p>
<p><img src="http://blog-pics.qiniudn.com/android_avd_create.png" alt=""></p>
<h3 id="英特尔系统镜像">英特尔系统镜像</h3>
<p>运行的 AVD 的镜像只可能基于 <em>ARM CPU</em> 或者 <em>Intel CPI</em> 架构的。  </p>
<p>一个使用英特尔系统镜像的 Android 模拟器在 <em>Intel/AMD</em> 硬件上运行，比在 <em>ARM</em> 的基础系统镜像上更快。因为这样模拟器在你的计算机上就不用再将 <em>ARM CPU</em> 的函数翻译成 <em>Intel/AMD CPU</em>。  </p>
<p>这个系统镜像可以通过 <em>Android SDK Manager</em> 安装，如下图勾选的选项。</p>
<p><img src="http://blog-pics.qiniudn.com/intel_sys_img.png" alt=""></p>
<blockquote>
<p>英特尔镜像（<em>Intel Image</em>）不是对所有 <em>Android API</em> 级别都是可用的。  </p>
<p>在这里你还需要安装针对 <em>MS Window</em> 系统的额外驱动程序。<br><img src="http://blog-pics.qiniudn.com/emulator_accelerator.png" alt=""> </p>
</blockquote>
<p>下载后你可以在 <em>android-sdk</em> 的 <em>extras/intel</em> 文件夹中找到驱动程序， 运行<code>.exe</code>文件即可安装驱动程序。  </p>
<blockquote>
<p>这个安装选项是针对在 Window 操作系统上加速 Intel 模拟器的，如果仅仅是通过 <em>Android SDK Manager</em> 下载了驱动程序是没有任何变化的。</p>
</blockquote>
<p><img src="http://blog-pics.qiniudn.com/avd_create_options.png" alt=""></p>
<p>下载好后你可以新建一个基于 <em>Intel</em> 的 AVD 了，这个 AVD 在启动的速度不会变快，但在启动后运行 Android 应用程序期间就快很多了。  </p>
<blockquote>
<p>下载之后你可能需要重启 Android 开发环境才能创建基于 <em>Intel</em> 的 AVD 。</p>
<p>在 Linux 操作系统上需要更多复杂的步骤，关于详细的安装指南参见<a href="http://software.intel.com/en-us/android/articles/speeding-up-the-android-emulator-on-intel-architecture" target="_blank" rel="external">Intel emulator Installation Guide</a>，里面也包含了在 Window 上安装的说明。</p>
</blockquote>
<h3 id="其他（第三方）模拟器">其他（第三方）模拟器</h3>
<p>这里提供一个可替代 Android 默认的模拟器，<a href="http://www.genymotion.com/" target="_blank" rel="external">Genymotion emulator</a> 相对于默认的 Android 模拟器，无论在启动还是运行 Android 应用程序的过程中都更快。</p>
<h2 id="练习：创建一个_Android_虚拟设备（AVD）">练习：创建一个 Android 虚拟设备（AVD）</h2>
<h3 id="目标">目标</h3>
<p>在这个练习中需要创建和启动一个 AVD，即使你已经有了一个真实的 Android 设备，也应该要熟悉创建和使用 AVDs。虚拟设备让你具有更多可能来测试你的应用程序，例如，选择不同的 Android 版本和一些特定的配置。</p>
<h3 id="创建一个_AVD">创建一个 AVD</h3>
<p>通过打开 <em>AVD Manager</em> 窗口来定义一个新的 Android 虚拟设备（AVD），选择 <em>Window → Android Virtual Device Manager</em> ，单击 <em>New</em> 按钮。</p>
<p><img src="http://blog-pics.qiniudn.com/avd_new.png" alt=""></p>
<p>设备的参数可以参考以下截图：</p>
<p><img src="http://blog-pics.qiniudn.com/avd_values.png" alt=""></p>
<blockquote>
<p>确保选择了 <em>Use Host GPU</em> 选项，这将会允许 AVD 直接使用你主机的图形处理进程（GPU），从而使 AVD 的速度运行得更快。</p>
</blockquote>
<p>按下 <em>OK</em> 按钮后，就会创建并配置 AVD ，成功创建就会显示在可用 Android 虚拟设备的列表中。</p>
<h3 id="启动你的_AVD">启动你的 AVD</h3>
<p>选择你新建的 AVD 并单击 <em>Start…</em> 按钮，在接下来的对话框中单击 <em>Launch</em>。  </p>
<p><img src="http://blog-pics.qiniudn.com/avd_start.png" alt=""></p>
<blockquote>
<p>不要中断这个启动进程，这可能会使 AVD 发生各种未知错误。在老式计算机上第一次运行新建的 AVD 可能需要花费10分钟左右的时间，而在现代计算机上通常只需1~3分钟的时间。  </p>
</blockquote>
<p>当 AVD 完成启动后，你就可以通过鼠标控制 GUI （图形用户界面）。模拟器的右侧也提供了一个虚拟菜单来访问 AVD 的功能。</p>
<p><img src="http://blog-pics.qiniudn.com/avd_running.jpg" alt=""></p>
<blockquote>
<p>当 AVD 启动后，在你开发的过程中不需要停止 AVD。如果你测试修改产生了新的版本的应用程序，只需要简单地在 AVD 上重新部署就可以了。</p>
</blockquote>
<h2 id="练习：在_Eclipse_中创建一个_Android_应用程序">练习：在 Eclipse 中创建一个 Android 应用程序</h2>
<h3 id="使用_Android_项目向导">使用 Android 项目向导</h3>
<p>在 Eclipse 中 Android 工具集为创建 Android 应用程序提供了向导。在这个练习中将会利用项目创建向导来创建一个基于模板的 Android 应用程序。  </p>
<blockquote>
<p>这个练习的目的是为了演示开发的流程。创建的元素将会在后面解释。</p>
</blockquote>
<h3 id="创建一个_Android_项目">创建一个 Android 项目</h3>
<p>在菜单中选择 <em>File → New → Other… → Android → Android Application Project</em>，在第一个向导页面中输入下面表格的填充数据。  </p>
<p><strong>表格二、配置你的 Android 项目</strong>  </p>
<p><img src="http://blog-pics.qiniudn.com/tb_app_create_entries.png" alt=""></p>
<p><img src="http://blog-pics.qiniudn.com/new_android_application_step_1.png" alt=""></p>
<p>单击 <em>Next</em> 按钮，确保你勾上了 <em>Create custom launcher icon</em> 和 <em>Create activity checkboxes</em> 选项。</p>
<p><img src="http://blog-pics.qiniudn.com/new_android_application_2.png" alt=""></p>
<p>在创建应用程序启动图标的向导页面中，你可以选择创建自己的应用程序的图标，如下图所示。</p>
<p><img src="http://blog-pics.qiniudn.com/new_android_application_3.png" alt=""></p>
<p>单击 <em>Next</em> 按钮，选择 <em>Empty Activity</em> 模板，继续单击 <em>Next</em> 按钮。</p>
<p><img src="http://blog-pics.qiniudn.com/new_android_application_4.png" alt=""></p>
<p>在对话框中为模板输入以下表格的数据。</p>
<p><strong>表格三、模板的值</strong>  </p>
<p><img src="http://blog-pics.qiniudn.com/android_activity_template.png" alt="">  </p>
<p><img src="http://blog-pics.qiniudn.com/new_android_application_5.png" alt=""></p>
<p>单击 <em>Finish</em> 按钮，向导可能会提示你安装支持库（Support Library），如果是这样，选择安装它。  </p>
<p><img src="http://blog-pics.qiniudn.com/new_android_application_6.png" alt=""></p>
<h2 id="练习：启动生成的_Android_应用程序">练习：启动生成的 Android 应用程序</h2>
<h3 id="启动_AVD">启动 AVD</h3>
<p>如果到目前为止，你还没有创建并启动一个 Android 虚拟设备（AVD）。 你应该选择适合你的 Android 应用程序的最低 Android 版本的 API。  </p>
<p>启动后，你将看到 AVD 的欢迎画面，如下图所示。  </p>
<p><img src="http://blog-pics.qiniudn.com/avd_welcome.jpg" alt="">  </p>
<p>当你的 AVD 准备就绪，解锁你的模拟器。  </p>
<p><img src="http://blog-pics.qiniudn.com/avd_unlock.jpg" alt="">  </p>
<h3 id="启动应用程序">启动应用程序</h3>
<p>选中你的应用程序，右击，然后选择 <em>Run As → Android Application</em>.  </p>
<p><img src="http://blog-pics.qiniudn.com/run%20as%20android%20application.png" alt="">  </p>
<p>你可能会被提示是否允许 ADT 自动监视应用程序的信息并使用 <em>logcat</em> 在工作台上输出的对话框。在这种情况下，选择 <em>Yes</em>，然后按 <em>OK</em> 按钮。  </p>
<p><img src="http://blog-pics.qiniudn.com/auto%20monitor%20logcat.png" alt="">  </p>
<p>在 AVD 上运行以上创建应用程序。这个应用程序只是简单地显示了一条字符串信息 <em>Hello, World!</em>.</p>
<p><img src="http://blog-pics.qiniudn.com/android%20hello%20world.jpg" alt=""></p>
<h2 id="解决_Android_开发问题">解决 Android 开发问题</h2>
<p>事情并不总是按它们应该工作的那样工作。这里提供了一份 Android 开发典型的问题和解决方案：<a href="http://www.yanjinwen.com/2014/09/12/一些公共的 Android 开发问题的解决方案/" target="_blank" rel="external">一些公共的 Android 开发问题的解决方案</a></p>
<h2 id="连接_Android_源代码">连接 Android 源代码</h2>
<h3 id="连接源代码到你的_Android_Jar_文件">连接源代码到你的 Android Jar 文件</h3>
<p>现在你已经创建了一个 Android 应用程序，你可以通过它连接到 Android 源代码（Android Source Code）。  </p>
<p>在你的 Android 项目里通过<code>android.jar</code>文件连接到源代码。在包视图中右击<code>android.jar</code>文件，选择 <em>Properties → Java Source Attachment</em>.  </p>
<p>在打开的面板中选择 <em>External location</em> 然后单击 <em>External Folder…</em> 按钮。浏览 <em>android_sdk/sources/android-xx</em> 的路径然后单击 <em>OK</em> 按钮。  </p>
<p><img src="http://blog-pics.qiniudn.com/android%20source%20code%20attachment.png" alt=""></p>
<h3 id="验证">验证</h3>
<p>验证你可以看到 Android 源代码。通过快捷键 <strong>Ctrl + Shift + T</strong> 打开一个输入面板，然后输入<code>View</code>类回车看看是否能看到源代码。</p>
<h2 id="集成_ADT_到_Eclipse_中">集成 ADT 到 Eclipse 中</h2>
<h3 id="集成_Android_到_Java_视图中">集成 Android 到 Java 视图中</h3>
<p>Android 工具将它本身的功能集成到了 Java 视图中。它添加了工具栏按钮并通过 <em>Android SDK Manager</em> 来管理你的 Android 应用程序的配置，比如，创建新的 AVD，配置文件，同创建一个 Android 项目一样，这些工具也包含了一些向导。  </p>
<p>下图突出标示了 Android 的工具栏按钮，并作了简单的说明。  </p>
<p><img src="http://blog-pics.qiniudn.com/android%20toolbar.png" alt="">  </p>
<h3 id="Android_向导">Android 向导</h3>
<p>你可以通过下面窗口找到特定的 Android 向导，选择 <em>File → New → Other… → Android</em> ，这些向导允许你创建 Android 项目和其他的 Android 元件。  </p>
<p><img src="http://blog-pics.qiniudn.com/android%20wizard.png" alt=""></p>
<h2 id="DDMS_视图">DDMS 视图</h2>
<p>ADT 添加了 DDMS（Dalvik Device Monitoring Service）到 Eclipse 中，用来与你的 Android（Virtual）Device 和 Android 应用程序进行交互的。选择 <em>Window → Open Perspective → Other… → DDMS</em> 来打开这个视图。里面还包含了其他可独立使用的 Eclipse 视图。<br>左侧显示了当前连接到的 Android 设备，以及这些设备的运行进程。右侧则包含了一些列不同功能的视图，你可以从左侧选择一个进程，然后在右侧通过工具栏触发各种动作。例如，启动跟踪或停止一个进程。  </p>
<p><img src="http://blog-pics.qiniudn.com/android%20DDMS.png" alt="">  </p>
<p>下面将会突出描述这个视图（DDMS）中的一些子视图，其他的当使用到再描述。  </p>
<h3 id="模拟器控制">模拟器控制</h3>
<p>该模拟器控制视图允许您在 AVD 上模拟打电话和发短信功能。它也有模拟当前地理位置的可能性。  </p>
<p><img src="http://blog-pics.qiniudn.com/emulator%20perspective.png" alt="">  </p>
<h3 id="文件浏览器">文件浏览器</h3>
<p>文件浏览器控制视图允许你在 Android 虚拟设备上浏览文件系统。  </p>
<p><img src="http://blog-pics.qiniudn.com/file%20explorer.png" alt=""></p>
<h2 id="Android_应用程序的一部分">Android 应用程序的一部分</h2>
<h3 id="Android_应用程序">Android 应用程序</h3>
<p>Android 应用程序作为一个独立的安装单元，可以被其他独立的 Android 应用程序安装和使用。  </p>
<p>一个 Android 应用程序会有一个类在应用程序启动时被实例化以及一个结束组件在应用程序退出的时候被停止。  </p>
<p>一个 Android 应用程序由一些 Android 软件和资源文件构成。  </p>
<p>基于任务描述（<code>Intent</code>），Android 应用程序组件可以连接其他 Android 应用程序的组件。这样，它们就可以创建一个跨应用程序的任务，应用程序组件通过这种方式集成到一起，从某种程度上使工作变得完美无瑕，即使其他组件没有被安装，或者不同的组件要执行相同的任务。  </p>
<h3 id="Android_软件组件">Android 软件组件</h3>
<p>下面的软件组件可以被定义到 Android 应用程序中。  </p>
<ul>
<li>Activity  </li>
<li>Services  </li>
<li>Broadcast Receivers（缩写：receiver）</li>
<li>Content Providers（缩写：providers）  </li>
</ul>
<h3 id="上下文">上下文</h3>
<p><code>android.content.Context</code> 这个类的实例为 Android 系统执行的应用程序提供了连接。它也可以访问项目中的资源和关于应用程序环境的全局信息。  </p>
<p>例如，你可以通过<code>Context</code>检查当前设备显示屏的大小。  </p>
<p><code>Context</code> 类也可以访问 Android 的服务（<em>Services</em>），例如，触发基于时间事件的闹铃管理服务。  </p>
<p><code>Activity</code> 和 <code>Services</code> 继承于 <code>Context</code> 类，因此可以直接通过它们访问 <code>Contenxt</code>。</p>
<h2 id="Android_应用程序组件概述">Android 应用程序组件概述</h2>
<h3 id="Activity"><span id="activity">Activity</span></h3>
<p><code>Activity</code> 是一个 Android 应用程序中的可视化组件。一个 Android 应用程序可以有多个 <code>Activity</code>。  </p>
<p><code>Activity</code> 使用 <code>Views</code> 和 <code>Fragments</code> 来创建用户界面和与用户交互。这两个元素在下一部分会介绍到。</p>
<h3 id="BroatcastReceiver">BroatcastReceiver</h3>
<p><code>BroatcastReceiver</code>（<em>receiver</em>）可以用来为系统信息和 <code>Intent</code> 注册监听器。如果指定的事件发生，接收器（<em>receiver</em>）就会收到系统的通知。  </p>
<p>例如，你可以为 Android 系统引导进程完成事件注册一个接收器。或者，你可以为手机状态改变事件注册一个接收器    ，比如，有人打电话进来。 </p>
<h3 id="Service">Service</h3>
<p><code>Service</code> 执行任务的时候不需要用户界面。它可以与其他 Android 组件进行通信，比如，通过 <em>Broatcast Receiver</em> 通知用户和 Android 系统中的 <em>Notification</em> 框架。</p>
<h3 id="ContentProvider">ContentProvider</h3>
<p><code>ContentProvider</code>（<em>prvider</em>）定义了一个应用程序数据结构化的接口。<code>provider</code> 在应用程序里可以用来访问数据，同时也可以向其他应用程序分享数据。  </p>
<p>Android 中包含了一个 <em>SQLite</em> 数据库，它通常都是和 <em>ContentProvider</em> 关联使用的。<em>SQLite</em> 用来存储数据，<em>ContentProvider</em> 用来访问数据。</p>
<h2 id="Android_中的基础用户界面组件">Android 中的基础用户界面组件</h2>
<p> 下面描述了一些最重要的用户界面组件和 Android 应用程序的部分概述。  </p>
<h3 id="Activity-1">Activity</h3>
<p> <code>Activity</code> 是 Android 用户界面的基础。它在上一部分中已经作了介绍：<a href="#activity">Android 应用程序组件概述 - “Activity”</a></p>
<h3 id="Fragments">Fragments</h3>
<p> <code>Fragment</code> 是运行在 <code>activity</code> 上下文中的一个组件。这个 <code>fragment</code> 封装了应用程序的代码，所以很容易重用它和支持不同大小的设备。  </p>
<p> 下面的图片显示了一个叫做 <code>MainActivity</code> 的 <code>activity</code>，在小屏幕上仅仅只显示一个片段（<code>fragment</code>），它运行用户导航到另外一个片段（<code>fragment</code>）。而在宽屏上，会同时显示两个片段（<code>fragments</code>）。  </p>
<p> <img src="http://blog-pics.qiniudn.com/android%20fragment%20small.png" alt="">  </p>
<p> <img src="http://blog-pics.qiniudn.com/android%20fragment%20wide.png" alt="">  </p>
<h3 id="视图和布局管理">视图和布局管理</h3>
<p>视图（<code>Views</code>）是用户界面的部件，例如，<code>buttons</code> 和 <code>text fidles</code>。<code>Views</code> 可以通过属性来配置它的行为和外观。  </p>
<p><code>ViewGroup</code> 负责管理安排 <code>Views</code>，它也被称为布局管理器（<em>layout manager</em>）。<em>layout manager</em> 的基类为 <code>android.view.ViewGroup</code>,它继承了<code>android.view.View</code> 类，而 <code>android.view.View</code> 类又是所有 <code>Views</code> 的基类。  </p>
<p><em>layout manager</em> 可以创建一些复杂的嵌套布局。</p>
<h3 id="特定设备布局的配置">特定设备布局的配置</h3>
<p><code>activites</code> 的用户界面通常是由 <em>XML</em> 文件（布局文件）来定义的。它可以为不同的设备配置特定的布局文件，比如，根据运行的真实设备动态配置可用的宽度。</p>
<h2 id="其他重要的_Android_元素">其他重要的 Android 元素</h2>
<h3 id="主屏幕（Home）和锁屏部件。">主屏幕（Home）和锁屏部件。</h3>
<p><em>Widgets</em> 交互组件主要在 Android 的主屏幕上使用。它通常用来显示某些应用程序的数据，并允许用户快速运行它们。比如，一个 <em>Widget</em> 可以用来显示一个新邮件的摘要，用户可以快速启动选择的邮件信息。</p>
<h3 id="动态壁纸">动态壁纸</h3>
<p>动态壁纸（<em> Live Wallpapers</em>）允许你为 Android 主屏幕创建背景动画。</p>
<h2 id="Android_manifest_文件">Android manifest 文件</h2>
<h3 id="你的Android应用程序的配置">你的Android应用程序的配置</h3>
<p>一个 Android 应用程序的组件和配置被记述在 <code>AndroidManifest.xml</code> 文件中。这个文件也被称之为清单文件或者清单。  </p>
<p>这个清单文件也为应用程序指定了其他元数据。比如，应用程序的图标和版本号。  </p>
<p>这个文件在 Android 系统安装应用程序的期间会被读取。Android 系统评估该配置文件并且确定该应用程序的功能。  </p>
<h3 id="在_AndroidManifest_文件中声明的组件">在 AndroidManifest 文件中声明的组件</h3>
<p>应用程序中的所有 <code>activities</code>，<code>services</code>，<code>content provider</code> 组件必须在这个文件中静态声明。<code>Broatcast Receiver</code> 可以静态声明，也可以在应用程序运行时动态声明。</p>
<h3 id="权限">权限</h3>
<p>Android 清单文件还必须包含应用程序所需的权限。例如，如果应用程序需要访问网络，它必须如下这样指定：  </p>
<p>一个简单的 <em>AndroidManifest.xml</em> 文件样板。  </p>
<figure class="highlight xml"><pre><div class="line"><span class="tag">&lt;<span class="title">manifest</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attribute">package</span>=<span class="value">"com.example.android.rssfeed"</span></div><div class="line">    <span class="attribute">android:versionCode</span>=<span class="value">"1"</span></div><div class="line">    <span class="attribute">android:versionName</span>=<span class="value">"1.0"</span> &gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">uses-sdk</span></span></div><div class="line">        <span class="attribute">android:minSdkVersion</span>=<span class="value">"16"</span></div><div class="line">        <span class="attribute">android:targetSdkVersion</span>=<span class="value">"19"</span> /&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.INTERNET"</span> /&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">application</span></span></div><div class="line">        <span class="attribute">android:name</span>=<span class="value">"RssApplication"</span></div><div class="line">        <span class="attribute">android:allowBackup</span>=<span class="value">"false"</span></div><div class="line">        <span class="attribute">android:icon</span>=<span class="value">"@drawable/ic_launcher"</span></div><div class="line">        <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></div><div class="line">        <span class="attribute">android:theme</span>=<span class="value">"@style/AppTheme"</span> &gt;</div><div class="line">        <span class="tag">&lt;<span class="title">activity</span></span></div><div class="line">            <span class="attribute">android:name</span>=<span class="value">"RssfeedActivity"</span></div><div class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/title_activity_main"</span> &gt;</div><div class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.MAIN"</span> /&gt;</span></div><div class="line"></div><div class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.LAUNCHER"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">activity</span></span></div><div class="line">            <span class="attribute">android:name</span>=<span class="value">".DetailActivity"</span></div><div class="line">            <span class="attribute">android:label</span>=<span class="value">"Details"</span> &gt;</div><div class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">"MyPreferenceActivity"</span> &gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="title">service</span> <span class="attribute">android:name</span>=<span class="value">"RssDownloadService"</span> &gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">service</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">application</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">manifest</span>&gt;</span> </div></pre></figure>

<h3 id="版本（Version）和包名(Package)">版本（Version）和包名(Package)</h3>
<p><em>package</em> 属性在 <em>AndroidManifest.xml</em> 文件中用以定义应用程序需要引用的 Java 对象的基础包。如果 Java 对象所在的包不在 <em>package</em> 属性定义的基础包里，那么必须要以<strong>全限定名</strong>声明对该 Java 类的引用。  </p>
<p>Google Play 要求每个 Android 应用程序必须使用自己独一无二的包名。因此，一个非常好的习惯就是使用你的反转域名来创建你应用程序的包名，以避免和其他应用程序产生冲突。  </p>
<p><code>android:versionName</code> 和 <code>android:versionCode</code> 两个属性是用来指定你应用程序的版本的。其中 <code>android:versionName</code> 是提供给用户看的，可以为任意字符串。  </p>
<p><code>android:versionCode</code> 必须为一个整数。Android 市场会根据这个 <em>versionCode</em> 来决定是否要为已经发布的应用程序执行更新。通常你应用程序的版本是从 1 开始，以后每发布一个新版本就 +1 。</p>
<h3 id="应用程序（Application）和组件（Components）">应用程序（Application）和组件（Components）</h3>
<p><code>&lt;application&gt;</code> 标签允许你为应用程序定义元数据和定义显式的应用程序类（可选）。它也是声明你应用程序组件的容器。  </p>
<p><code>activity</code> 标签用来定义一个 <em>Activity</em> 组件。它的 <code>name</code> 属性指向要引用的类，其中的包名是相对于 <code>package</code> 属性定义的（如果不是全限定名）。  </p>
<p><code>inten-filter</code> 用来告诉 Android 运行时当前这个 <em>Activity</em> 应该被定义为应用程序的入口点， 并使该应用程序在 Android 系统的启动器可用。如下面代码声明：  </p>
<figure class="highlight"><pre><div class="line"><span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.MAIN"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.LAUNCHER"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></div></pre></figure>  

<p><code>@string/app_name</code> 属性用来指定你应用程序的名称。通常这些应用程序资源（string, colors, icons）应该被定义在资源文件中，这样更容易适配不同的设备和资源国际化的操作。  </p>
<p>同 <code>&lt;activity&gt;</code> 标签一样，其他 Android 组件（<code>service</code>, <code>receiver</code>, <code>provider</code>）也是类似声明。  </p>
<h3 id="最低和目标版本">最低和目标版本</h3>
<p><code>use-sdk</code> 标签允许你在 <em>AndroidManifest.xml</em> 文件中为你的应用程序声明在最低版本 <code>minSdkVersion</code> 和 目标版本 <code>targetSdkVersion</code>。  </p>
<p><strong>表格四、最低和目标版本</strong>  </p>
<p><img src="http://blog-pics.qiniudn.com/minSdk%20and%20targetSdk.png" alt="">  </p>
<h3 id="权限-1">权限</h3>
<p>你可以通过 <code>&lt;permission&gt;</code> 标签为应用程序声明一些权限，而声明你应用程序需要的权限则使用 <code>&lt;uses-permission&gt;</code> 标签。</p>
<h3 id="所需的设备配置">所需的设备配置</h3>
<p><code>user-configuration</code> 标签允许你为应用程序指定特定的输入方式。例如，下面代码指定设备需要硬件键盘输入。  </p>
<figure class="highlight"><pre><div class="line"><span class="tag">&lt;<span class="title">uses-configuration</span> <span class="attribute">android:reqHardKeyboard</span>=<span class="value">"true"</span>/&gt;</span></div></pre></figure>  

<p><code>user-feature</code> 标签允许你为应用程序指定设备需要的硬件配置。例如，下面代码指定设备需要具备照相机。  </p>
<figure class="highlight"><pre><div class="line"><span class="tag">&lt;<span class="title">uses-feature</span> <span class="attribute">android:name</span>=<span class="value">"android.hardware.camera"</span> /&gt;</span></div></pre></figure>

<h3 id="应用程序的安装位置">应用程序的安装位置</h3>
<p><code>installLocation</code> 属性用来指定你的应用程序安装位置，指定 <code>auto</code> 或 <code>preferExternal</code> 属性值允许应用程序安装到设备的外部存储。  </p>
<blockquote>
<p>在现实中，这一选项很少被使用，一旦设备连接到计算机，并挂载为 USB 存储，安装在外部存储的应用程序会被停止。  </p>
</blockquote>
<h3 id="更多信息">更多信息</h3>
<p>关于更多 Android 清单文件的信息可以参考：<a href="http://developer.android.com/guide/topics/manifest/manifest-intro.html" target="_blank" rel="external">Android Manifest documentation</a></p>
<h2 id="资源">资源</h2>
<h3 id="资源文件">资源文件</h3>
<p>资源，如图像和 XML 配置文件，保持与 Android 应用程序的源代码分开。  </p>
<p>资源文件必须放置在 <code>/res</code> 目录中预定义的子文件夹。资源文件被存储到哪个子文件夹取决于文件的类型。  </p>
<p>下表列出了所支持的资源和它们的标准文件夹前缀的概览。  </p>
<p><img src="http://blog-pics.qiniudn.com/android%20resource%20file.png" alt="">  </p>
<h3 id="资源例子">资源例子</h3>
<p>下面的代码是在 /res/values 定义了一些字符串常量，字符串数组，颜色和尺寸的文件名为 values.xml 的一个例子。  </p>
<figure class="highlight"><pre><div class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">resources</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">string</span> <span class="attribute">name</span>=<span class="value">"app_name"</span>&gt;</span>Test<span class="tag">&lt;/<span class="title">string</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">string</span> <span class="attribute">name</span>=<span class="value">"action_settings"</span>&gt;</span>Settings<span class="tag">&lt;/<span class="title">string</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">string</span> <span class="attribute">name</span>=<span class="value">"hello_world"</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="title">string</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">string-array</span> <span class="attribute">name</span>=<span class="value">"operationsystems"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">item</span>&gt;</span>Ubuntu<span class="tag">&lt;/<span class="title">item</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">item</span>&gt;</span>Android<span class="tag">&lt;/<span class="title">item</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">item</span>&gt;</span>Microsoft Windows<span class="tag">&lt;/<span class="title">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">string-array</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">color</span> <span class="attribute">name</span>=<span class="value">"red"</span>&gt;</span>#ffff0000<span class="tag">&lt;/<span class="title">color</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">dimen</span> <span class="attribute">name</span>=<span class="value">"mymargin"</span>&gt;</span>10dp<span class="tag">&lt;/<span class="title">dimen</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">resources</span>&gt;</span> </div></pre></figure>  

<h3 id="资源预选">资源预选</h3>
<p>您也可以附加额外的预选文件夹名称，以表明相关的资源应该用于特定的配置。例如，您可以指定布局文件仅适用于特定的屏幕尺寸。</p>
<h3 id="资源_IDs_和_R-java">资源 IDs 和 R.java</h3>
<p>每个资源都会得到Android 编译系统分配的一个 ID。在 Android 项目的 <em>gen</em> 目录中包含 <code>R.java</code>文件的引用，该文件包含这些生成的值。这些文献都是静态的整数值。  </p>
<p>如果您添加了新的资源文件，相应的引用会自动在 <code>R.java</code> 文件中创建。在 <code>R.java</code> 中文件手动改变是不应该的，修改了也会被覆盖。  </p>
<p>Android 系统提供了一些方法，通过这些 <em>IDs</em> 来访问相应的资源文件。  </p>
<p>例如，在你的源代码中通过 ID 访问<code>R.string.yourString</code>的字符串。你会用到 <em>Context</em> 类中定义的 <code>getString(R.string.yourString)</code> 方法。</p>
<h3 id="资源_IDs_的命名规范">资源 IDs 的命名规范</h3>
<p>Android SDK 中使用驼峰表示法 命名 ID，例如，<code>buttonRefresh</code> 。这是很好的做法，应该遵循这一做法。</p>
<h3 id="系统资源">系统资源</h3>
<p>Android 也提供了资源。这些被称为系统资源。通过 Android 的命名空间来区分系统资源和本地资源。例如，android.R.string.cancel 定义了平台字符串的取消操作。</p>
<h2 id="布局资源文件">布局资源文件</h2>
<p>Android <em>activities</em> 的用户界面通过 <code>views</code>(<code>widgets</code>) 和 <code>fragments</code> 来定义。这些用户界面可以在 <em>/res/layout</em> 文件夹下通过 XML 配置文件或者在 Java 源文件中定义。你也可以混合使用这两种方法。  </p>
<p>使用 XML 配置文件来定义布局是首选的方法。这样程序代码的逻辑和布局文件的定义得到分离，也可以灵活地为不同的设备定义不同的布局文件。</p>
<h3 id="XML_布局文件">XML 布局文件</h3>
<p>布局资源文件被称为布局（<em>layout</em>）。布局指定 <em>ViewGroups</em>，<em>Views</em>，它们之间的关系以及它们的属性通过 XML 形式表示。  </p>
<p>下面的代码是一个简单的布局文件示例。  </p>
<figure class="highlight xml"><pre><div class="line"><span class="tag">&lt;<span class="title">RelativeLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attribute">xmlns:tools</span>=<span class="value">"http://schemas.android.com/tools"</span></div><div class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:paddingBottom</span>=<span class="value">"@dimen/activity_vertical_margin"</span></div><div class="line">    <span class="attribute">android:paddingLeft</span>=<span class="value">"@dimen/activity_horizontal_margin"</span></div><div class="line">    <span class="attribute">android:paddingRight</span>=<span class="value">"@dimen/activity_horizontal_margin"</span></div><div class="line">    <span class="attribute">android:paddingTop</span>=<span class="value">"@dimen/activity_vertical_margin"</span></div><div class="line">    <span class="attribute">tools:context</span>=<span class="value">".MainActivity"</span> &gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">TextView</span></span></div><div class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/mytext"</span></div><div class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:text</span>=<span class="value">"@string/hello_world"</span> /&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">RelativeLayout</span>&gt;</span> </div></pre></figure>  

<p>一个布局分配给一个 <code>activity</code> 通过调用 <code>setContentView()</code> 方法，如下面的示例代码所示。  </p>
<figure class="highlight java"><pre><div class="line"><span class="keyword">package</span> com.yanjinwen.android.first;</div><div class="line"></div><div class="line"><span class="keyword">import</span> android.os.Bundle;</div><div class="line"><span class="keyword">import</span> android.app.Activity;</div><div class="line"><span class="keyword">import</span> android.view.Menu;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{</div><div class="line"></div><div class="line">    <span class="annotation">@Override</span></div><div class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span>(Bundle savedInstanceState) {</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">    }</div><div class="line"></div><div class="line">} </div></pre></figure>  

<h3 id="定义_IDs">定义 IDs</h3>
<p>如果一个视图（<em>View</em>）需要被 <em>Java</em> 代码访问，那么需要通过 <code>android:id</code> 属性为视图定义一个唯一的 ID。将一个新的 ID 分配给一个视图使用 <code>android:id</code> 属性通过对应元素的布局文件。下面的例子通过 <code>android:id=&quot;@+id/button1&quot;</code> 参数给视图 <em>Button</em> 分配了一个 <code>button1</code> ID。  </p>
<figure class="highlight xml"><pre><div class="line"><span class="tag">&lt;<span class="title">Button</span></span></div><div class="line">  <span class="attribute">android:id</span>=<span class="value">"@+id/button1"</span></div><div class="line">  <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span></div><div class="line">  <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></div><div class="line">  <span class="attribute">android:text</span>=<span class="value">"Show Preferences"</span> &gt;</div><div class="line"><span class="tag">&lt;/<span class="title">Button</span>&gt;</span> </div></pre></figure>  

<p>需要时，<code>R.java</code> 文件会为布局文件中对应的视图自动生成对应 <em>Java</em> 代码映射。</p>
<h3 id="最佳实践：通过单独文件预定义_IDs">最佳实践：通过单独文件预定义 IDs</h3>
<p>正如上一节所描述的 Android 允许你动态地在布局文件中定义用户界面组件的标识（IDs）。可以通过配置文件在一个集中的地方定义所有视图组件的 IDs。  </p>
<p>你可以在 <em>/res/values</em> 文件夹下创建一个文件 <em>ids.xml</em> 来控制你的 IDs，如下面的代码示例：  </p>
<figure class="highlight xml"><pre><div class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">resources</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">item</span> <span class="attribute">name</span>=<span class="value">"button1"</span> <span class="attribute">type</span>=<span class="value">"id"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">resources</span>&gt;</span></div></pre></figure>   

<p>在你的布局文件中调用已经定义好的 ID。</p>
<figure class="highlight xml"><pre><div class="line"><span class="tag">&lt;<span class="title">RelativeLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attribute">xmlns:tools</span>=<span class="value">"http://schemas.android.com/tools"</span></div><div class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">tools:context</span>=<span class="value">".MainActivity"</span> &gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">Button</span></span></div><div class="line">        <span class="attribute">android:id</span>=<span class="value">"@id/button1"</span></div><div class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:layout_centerHorizontal</span>=<span class="value">"true"</span></div><div class="line">        <span class="attribute">android:layout_centerVertical</span>=<span class="value">"true"</span></div><div class="line">        <span class="attribute">android:layout_marginRight</span>=<span class="value">"27dp"</span></div><div class="line">        <span class="attribute">android:text</span>=<span class="value">"Button"</span> /&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">RelativeLayout</span>&gt;</span> </div></pre></figure>  

<h3 id="布局的性能注意事项">布局的性能注意事项</h3>
<p>计算布局和绘制视图是资源密集型的操作。你应该尽可能地使用最简单的布局实现良好的性能。例如，你应该避免定义过深的嵌套布局管理器，或者在使用一个简单的布局管理器足够的情况下避免使用复杂的布局管理器。</p>
<h2 id="视图">视图</h2>
<h3 id="View_类">View 类</h3>
<p>一个视图（<em>View</em>）在 Android 中代表一个小部件，例如，一个按钮或一个布局管理器。  </p>
<p>Android 中的所有视图都继承自 <code>android.view.View</code> 类。这个类相对有点大（超过 18000 行代码），它为子类提供了大量基础功能。  </p>
<h3 id="标准视图">标准视图</h3>
<p><em>Android SDK</em> 提供了一些标准的视图。例如，<code>Button</code>，<code>TextView</code>，<code>EditView</code>等。</p>
<p>同时也提供了一些复杂的部件。例如，用来显示结构化数据的 <code>ListView</code> 或者 <code>GirdView</code>。  </p>
<p>视图所有基类的主包的部分命名空间为 <code>android.view</code>，而 Android 平台默认的部件为 <code>android.widget</code>。</p>
<h3 id="自定义视图">自定义视图</h3>
<p>开发者可以通过继承 <code>android.view.View</code> 类来自定义的视图（Views）。</p>
<h2 id="布局管理器和_ViewGroups">布局管理器和 ViewGroups</h2>
<h3 id="什么是布局管理器？">什么是布局管理器？</h3>
<p>布局管理器是 <code>ViewGroup</code> 的子类，主要职责用来为自身和它的的子类 <code>Views</code> 布局。Android 支持不同于默认的布局管理器。  </p>
<h3 id="重要的布局管理器">重要的布局管理器</h3>
<p>在 Android 4.0 中最相关的布局管理器是：<code>LinearLayout</code>, <code>FrameLayout</code>, <code>RelativeLayout</code> and <code>GridLayout</code>。  </p>
<p><code>AbsoluteLayout</code> 已经被弃用，而 <code>TableLayout</code> 通过 <code>GridLayout</code> 可以更有效地被实现。  </p>
<blockquote>
<p><code>RelativeLayout</code> 是一个复杂的布局管理器，应该当如果这样一个复杂的布局是必需的才使用，因为它会执行一个资源密集型计算来布局它的子类。  </p>
</blockquote>
<h3 id="布局的属性">布局的属性</h3>
<p>所有布局允许开发人员定义属性。子类定义的属性可能会被它们的父类进行评估。  </p>
<p><strong>表格六、宽度和高度的定义</strong><br><img src="http://blog-pics.qiniudn.com/width%20and%20%20height.png" alt="">  </p>
<p>部件可以定义固定的大小，使用 <code>dp</code> 单位定义，例如，<code>100dp</code>。<code>dp</code> 固定的大小根据不同设备的配置决定比例。  </p>
<p>下面通过图片来演示布局的一些属性。  </p>
<p><img src="http://blog-pics.qiniudn.com/wrap_content.jpg" alt="">  </p>
<p><img src="http://blog-pics.qiniudn.com/match_parent.png" alt=""></p>
<h3 id="LinearLayout">LinearLayout</h3>
<p><code>LinearLayout</code> 根据属性 <code>android:orientation</code> 将所有子类排成一行或一列。<code>android:orientation</code> 这个属性的值只可能为 <code>horizontal</code> 和 <code>vertical</code>，默认值为 <code>horizontal</code>。  </p>
<p>如果使用 <code>horizontal</code>，子元素布局如图下图所示。  </p>
<p><img src="" alt="">  </p>
<p>如果使用 <code>vertical</code>，子元素布局如图下图所示。  </p>
<p><img src="" alt="">  </p>
<p><code>LinearLayout</code> 可以嵌套来实现更复杂的布局。  </p>
<p><code>LinearLayout</code> 通过 <code>android:layout_weight</code> 属性支持为个别子元素分配权重。这个值指定将多少额外的空间分配给指定的 <code>View</code>。例如，如果你有两个小部件，第一个设置 <code>android:layout_weight</code> 的值为 <strong>1</strong>，第二个为 <strong>2</strong>，那么，第一个部件将占据1/3的空间，第二个为2/3。你也可以设置 <code>android:layout_weight</code> 的值为 <strong>0</strong>，这样总是会占有一定的比例。  </p>
<h3 id="FrameLayout">FrameLayout</h3>
<p><code>FrameLayout</code> 布局管理器的子元素被绘制在彼此之上，这样可以创建漂亮出的视觉效果。  </p>
<p>下面的屏幕截图显示了 Gmail 应用程序利用 <code>FrameLayout</code> 显示几个按钮在另一个布局之上。  </p>
<p><img src="http://blog-pics.qiniudn.com/frame%20layout.jpg" alt=""></p>
<h3 id="RelativeLayout">RelativeLayout</h3>
<p><code>RelativeLayout</code> 布局允许部件相对于彼此的位置。这可以用于复杂的布局。  </p>
<p><code>RelativeLayout</code> 的一个简单例子，如果你居中一个单一的组件，只需要设置这个部件的属性 <code>android:layout_centerInParent</code> 为 <code>true</code> 即可。  </p>
<figure class="highlight xml"><pre><div class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">RelativeLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span> &gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">ProgressBar</span></span></div><div class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/progressBar1"</span></div><div class="line">        <span class="attribute">style</span>=<span class="value">"?android:attr/progressBarStyleLarge"</span></div><div class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:layout_centerInParent</span>=<span class="value">"true"</span></div><div class="line">         /&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">RelativeLayout</span>&gt;</span> </div></pre></figure>  

<h3 id="GridLayout">GridLayout</h3>
<p><code>GridLayout</code> 是在 Android 4.0 引进的。此布局视图允许您组织成一个网格。<code>GridLayout</code>分离它的绘制区域为:行（rows）, 列（columns）和单元格（cells）。  </p>
<p>你可以为每个视图指定想要多少列。需要多少行和列就指定相应的数值，如果没有指定，<code>GridLayout</code> 会使用默认的值。  </p>
<p>下面的布局文件定义了一个 <code>GridLayout</code> 布局。  </p>
<figure class="highlight xml"><pre><div class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">GridLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attribute">android:id</span>=<span class="value">"@+id/GridLayout1"</span></div><div class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:columnCount</span>=<span class="value">"4"</span></div><div class="line">    <span class="attribute">android:useDefaultMargins</span>=<span class="value">"true"</span> &gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">TextView</span></span></div><div class="line">        <span class="attribute">android:layout_column</span>=<span class="value">"0"</span></div><div class="line">        <span class="attribute">android:layout_columnSpan</span>=<span class="value">"3"</span></div><div class="line">        <span class="attribute">android:layout_gravity</span>=<span class="value">"center_horizontal"</span></div><div class="line">        <span class="attribute">android:layout_marginTop</span>=<span class="value">"40dp"</span></div><div class="line">        <span class="attribute">android:layout_row</span>=<span class="value">"0"</span></div><div class="line">        <span class="attribute">android:text</span>=<span class="value">"用户登录"</span></div><div class="line">        <span class="attribute">android:textSize</span>=<span class="value">"32dip"</span> /&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">TextView</span></span></div><div class="line">        <span class="attribute">android:layout_column</span>=<span class="value">"0"</span></div><div class="line">        <span class="attribute">android:layout_gravity</span>=<span class="value">"right"</span></div><div class="line">        <span class="attribute">android:layout_row</span>=<span class="value">"1"</span></div><div class="line">        <span class="attribute">android:text</span>=<span class="value">"用户名: "</span> &gt;</div><div class="line">    <span class="tag">&lt;/<span class="title">TextView</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">EditText</span></span></div><div class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/input1"</span></div><div class="line">        <span class="attribute">android:layout_column</span>=<span class="value">"1"</span></div><div class="line">        <span class="attribute">android:layout_columnSpan</span>=<span class="value">"2"</span></div><div class="line">        <span class="attribute">android:layout_row</span>=<span class="value">"1"</span></div><div class="line">        <span class="attribute">android:ems</span>=<span class="value">"10"</span> /&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">TextView</span></span></div><div class="line">        <span class="attribute">android:layout_column</span>=<span class="value">"0"</span></div><div class="line">        <span class="attribute">android:layout_gravity</span>=<span class="value">"right"</span></div><div class="line">        <span class="attribute">android:layout_row</span>=<span class="value">"2"</span></div><div class="line">        <span class="attribute">android:text</span>=<span class="value">"密码: "</span> &gt;</div><div class="line">    <span class="tag">&lt;/<span class="title">TextView</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">EditText</span></span></div><div class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/input2"</span></div><div class="line">        <span class="attribute">android:layout_column</span>=<span class="value">"1"</span></div><div class="line">        <span class="attribute">android:layout_columnSpan</span>=<span class="value">"2"</span></div><div class="line">        <span class="attribute">android:layout_row</span>=<span class="value">"2"</span></div><div class="line">        <span class="attribute">android:ems</span>=<span class="value">"10"</span></div><div class="line">        <span class="attribute">android:inputType</span>=<span class="value">"textPassword"</span> /&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">Button</span></span></div><div class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/button1"</span></div><div class="line">        <span class="attribute">android:layout_column</span>=<span class="value">"2"</span></div><div class="line">        <span class="attribute">android:layout_row</span>=<span class="value">"3"</span></div><div class="line">        <span class="attribute">android:text</span>=<span class="value">"登录"</span> /&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">GridLayout</span>&gt;</span></div></pre></figure>  

<p>以上创建的用户界面如下图所示。  </p>
<p><img src="http://blog-pics.qiniudn.com/GridLayout.png" alt="">  </p>
<h3 id="ScrollView">ScrollView</h3>
<p><code>ScrollView</code> 类可以用来包含一个其内容超出整个屏幕的视图，在这种情况下 <code>ScrollView</code> 将显示滚动条来滚动上下文。  </p>
<p>当然这个视图（<em>View</em>）也可以是包含了其他元素的布局。  </p>
<p>下面的代码使用 <code>ScrollView</code> 定义了一个示例布局文件。  </p>
<figure class="highlight xml"><pre><div class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">ScrollView</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span></div><div class="line">    <span class="attribute">android:fillViewport</span>=<span class="value">"true"</span></div><div class="line">    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span> &gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">TextView</span></span></div><div class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/TextView01"</span></div><div class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></div><div class="line">        <span class="attribute">android:paddingLeft</span>=<span class="value">"8dip"</span></div><div class="line">        <span class="attribute">android:paddingRight</span>=<span class="value">"8dip"</span></div><div class="line">        <span class="attribute">android:paddingTop</span>=<span class="value">"8dip"</span></div><div class="line">        <span class="attribute">android:text</span>=<span class="value">"This is a header"</span></div><div class="line">        <span class="attribute">android:textAppearance</span>=<span class="value">"?android:attr/textAppearanceLarge"</span> &gt;</div><div class="line">    <span class="tag">&lt;/<span class="title">TextView</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">ScrollView</span>&gt;</span> </div></pre></figure>  

<p><code>android:fillViewport = &quot;true&quot;</code> 属性确保 <code>Scrollview</code> 设置为全屏即使元素小于一个屏幕。</p>
<!-- ## 练习：使用布局和增加互动

## 练习：在程序运行时改变视图布局

## 练习：创建一个温度转换器 -->

<h2 id="使用资源">使用资源</h2>
<h3 id="在代码中引用资源">在代码中引用资源</h3>
<p><code>Resources</code> 类允许访问程序的独立资源。通过 <code>Context</code> 类的 <code>getResources()</code> 方法可以检索到 <code>Resources</code> 的实例。<code>Activity</code> 和 <code>Service</code> 是继承了 <code>Context</code> 类的。所以你可以通过这些基本的组件直接使用 <code>getResources()</code> 这个方法。  </p>
<p><code>Resources</code> 类的实例还需要依靠其他 Android 框架类。例如，下面的代码显示了如何通过引用一个资源 ID 创建一个位图（<em>Bitmap</em>）文件。  </p>
<figure class="highlight java"><pre><div class="line"><span class="comment">// BitmapFactory 需要引用一个 Resource 类的实例</span></div><div class="line">BitmapFactory.decodeResource(getResources(), R.drawable.ic_action_search); </div></pre></figure>  

<h3 id="在一个_Activity_中访问布局的视图组件">在一个 Activity 中访问布局的视图组件</h3>
<p>在 <code>Activity</code> 或者 <code>Fragment</code> 的代码中经常需要访问和修改视图组件的属性。  </p>
<p>你可以通过 <code>findViewById(id)</code> 在当前的布局文件中查找一个视图（View）组件。<code>id</code> 为视图组件在布局文件中定义的 ID 属性，示例代码如下：  </p>
<figure class="highlight java"><pre><div class="line"><span class="keyword">package</span> com.yanjinwen.android.first;</div><div class="line"></div><div class="line"><span class="keyword">import</span> android.app.Activity;</div><div class="line"><span class="keyword">import</span> android.os.Bundle;</div><div class="line"><span class="keyword">import</span> android.widget.TextView;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{</div><div class="line"></div><div class="line">    <span class="annotation">@Override</span></div><div class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span>(Bundle savedInstanceState) {</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        TextView textView = (TextView) findViewById(R.id.mytext);</div><div class="line">        </div><div class="line">        <span class="comment">// TODO do something with the TextView</span></div><div class="line">    }</div><div class="line"></div><div class="line">}</div></pre></figure>  

<p><code>findViewById(id)</code> 方法也可以在一个层级中查找一个视图（View），如下代码示例。  </p>
<figure class="highlight"><pre><div class="line"><span class="comment">// 在 Activity 中查找一个布局文件</span></div><div class="line"><span class="constant">LinearLayout linearLayout</span> = (LinearLayout) findViewById(R.id.mylayout);</div><div class="line"></div><div class="line"><span class="comment">// 然后在这个布局文件中查找子视图组件</span></div><div class="line"><span class="constant">TextView textView</span> = (TextView) linearLayout.findViewById(R.id.mytext);</div><div class="line"></div><div class="line"><span class="comment">// 注意，你可以直接查找 R.id.mytext，上面的代码只是为了演示所说的层级查找的流程。</span></div></pre></figure>

<h3 id="在_XML_文件中引用资源">在 XML 文件中引用资源</h3>
<p>在你的 <em>XML</em> 文件中，例如，在你的布局文件中，可以通过 <strong>@</strong> 符号引用其他资源。  </p>
<p>例如，如果你想引用定义在一个 <em>XML</em> 资源文件中颜色资源，你可以通过 <code>@color/your_id</code> 来引用。或者你在一个 <em>XML</em> 资源文件中定义了 <em>key</em> 为 <em>“titlepage”</em> 的字符串资源，你可以通过 <code>@string/titilepage</code> 访问该字符串资源。  </p>
<h3 id="在_XML_文件中引用_Android_系统资源">在 XML 文件中引用 Android 系统资源</h3>
<p>使用一个 Android 系统资源，要在引用中包含 <code>android</code> 这个命名空间，例如，<code>android.R.string.cancel</code>。</p>
<h2 id="Assets_文件">Assets 文件</h2>
<h3 id="什么是_Assets？">什么是 Assets？</h3>
<p>在 <em>res</em> 目录存储的结构数据认定是 Android 平台的，而 <em>assets</em> 目录则可以用来存储任意类型的数据。  </p>
<p>你可以根据路径访问存储在 <em>assets</em> 中的文件，<em>assets</em> 也允许你创建子目录。  </p>
<blockquote>
<p>你也可以在 <em>/res/raw</em> 目录中存储非结构化的数据，但使用 <em>assets</em> 目录来存储这些数据被认为是最佳实践。</p>
</blockquote>
<h3 id="访问_Assets">访问 Assets</h3>
<p>通过 <code>AssetsManager</code> 类的实例来访问 <em>assets</em> 中的数据，它可以通过 <code>Context</code> 类的 <code>getAssets()</code> 得到。  </p>
<p><code>AssetsManager</code> 类的 <code>open()</code> 方法将 <em>assets</em> 中的文件封装成 <code>InputStream</code> 流，如下代码示例。  </p>
<figure class="highlight java"><pre><div class="line"><span class="comment">// 得到 AssetManager 实例</span></div><div class="line">AssetManager manager = getAssets();</div><div class="line"></div><div class="line"><span class="comment">// 从 assets 文件夹中读取 "logo.png" 位图（bitmap）</span></div><div class="line">InputStream open = <span class="keyword">null</span>;</div><div class="line"><span class="keyword">try</span> {</div><div class="line">  open = manager.open(<span class="string">"logo.png"</span>);</div><div class="line">  Bitmap bitmap = BitmapFactory.decodeStream(open);</div><div class="line">  <span class="comment">// 指定 bitmap 到布局中的一个 ImageView</span></div><div class="line">  ImageView view = (ImageView) findViewById(R.id.imageView1);</div><div class="line">  view.setImageBitmap(bitmap);</div><div class="line">  } <span class="keyword">catch</span> (IOException e) {</div><div class="line">    e.printStackTrace();</div><div class="line">  } <span class="keyword">finally</span> {</div><div class="line">    <span class="keyword">if</span> (open != <span class="keyword">null</span>) {</div><div class="line">      <span class="keyword">try</span> {</div><div class="line">        open.close();</div><div class="line">      } <span class="keyword">catch</span> (IOException e) {</div><div class="line">        e.printStackTrace();</div><div class="line">      }</div><div class="line">    }</div><div class="line">}</div></pre></figure>

<!-- ## 练习：在 XML 和代码中使用资源文件

## 练习：使用 ScrollView 组件 -->

<h2 id="部署">部署</h2>
<h3 id="概述">概述</h3>
<p>一般要部署一个 Android 应用程序到你的 Android 设备都会存在一些限制。您可以使用 USB 接口，电子邮件发送应用程序给自己，或使用众多 Android 市场之一，以安装应用程序。以下主要突出描述最常见的。</p>
<h3 id="通过_Eclipse_部署">通过 Eclipse 部署</h3>
<p>首先要打开设备设置中的 <em>USB 调试</em>，选择 <em>设置 → 开发人员选项</em>，然后勾上 <em>USB 调试选项</em>。  </p>
<p>你可能还需要为你的手机安装驱动程序，Linux 和 Mac OS 操作系统可以直接工作，而 Windows 操作系统通常要先安装驱动程序才能进行调试。  </p>
<p>关于在 Windows 上安装驱动程序可以参考：<a href="http://developer.android.com/tools/device.html" target="_blank" rel="external">Google guide for device deployment</a>  </p>
<blockquote>
<p>你应用程序的最低版本需要适配你 Android 设备的版本。  </p>
</blockquote>
<p>如果有多个设备连接到您的计算机,您可以选择应该使用哪一个。如果只有一个设备连接,就会在该设备上自动部署应用程序。  </p>
<p><img src="http://blog-pics.qiniudn.com/target%20devie%20manual.png" alt="">  </p>
<p><img src="http://blog-pics.qiniudn.com/choose%20a%20running%20device.png" alt=""></p>
<h3 id="导出你的应用程序">导出你的应用程序</h3>
<p>Android 应用程序必须签名后才能安装到 Android 设备上。在 Eclipse 开发过程中会自动为应用程序附上一个调试用的密匙（<em>debug key</em>）。  </p>
<p>如果你不想使用 Eclipse IDE 来安装你的应用程序，你可以选中你的 Android 项目，右击选中：<em>Android Tools → Export Signed Application Package</em>.  </p>
<p>这个向导允许使用现有的密匙（<em>key</em>）或者创建一个新的。  </p>
<p>请注意，在 Google Play 上，您需要使用相同的签名密钥更新您的应用程序。如果您丢失了钥匙，你将不能够再更新应你的用程序。  </p>
<p>一定要备份好你的密匙（<em>key</em>）。 </p>
<h3 id="通过外部资源安装应用程序">通过外部资源安装应用程序</h3>
<p>Android 也可以直接安装一个已经打包成 <code>.apk</code> 文件的应用程序。例如，在邮件附件或网页上的 <code>.apk</code> 链接文件。  </p>
<p>当要安装非 Android 市场上的应用程序时，需要在 Android 设备上设置允许安装。这个选项通常在你的设备的：<em>设置 → 安全</em> 中找到。  </p>
<h3 id="Google_Play-1">Google Play</h3>
<p>使用 Google Play 发布你的应用程序需要一个开发者账号，需要一次费用 $25。申请了账号后就可以上传应用程序和所需的图标了。详细可以参考：<a href="https://play.google.com/apps/publish/signup/" target="_blank" rel="external">Google Play Publishing</a>  </p>
<p>上传应用程序的时候 Google Play 会扫描你的应用程序，但不需要审核过程。所有不包含恶意软件的应用程序，将会被发布。通常上传几分钟后,应用程序即可用。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/总结/">总结</a><a href="/tags/Android/">Android</a>
  </div>

</div>


<div class="article-share" id="share">

  <div data-url="http://www.yanjinwen.com/2014/09/12/Android 开发概览/" data-title="Android 开发概览 | KimYan&#39;s Blog" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/09/12/一些公共的 Android 开发问题的解决方案/" title="一些公共的 Android 开发问题的解决方案">
  <strong>上一篇：</strong><br/>
  <span>
  一些公共的 Android 开发问题的解决方案</span>
</a>
</div>


<div class="next">
<a href="/2014/09/12/Android 开发工具安装/"  title="Android 开发工具安装">
 <strong>下一篇：</strong><br/> 
 <span>Android 开发工具安装
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是_Android_？"><span class="toc-number">1.</span> <span class="toc-text">什么是 Android ？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_操作系统"><span class="toc-number">1.1.</span> <span class="toc-text">Android 操作系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#任务"><span class="toc-number">1.2.</span> <span class="toc-text">任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_平台组件"><span class="toc-number">1.3.</span> <span class="toc-text">Android 平台组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Google_Play"><span class="toc-number">1.4.</span> <span class="toc-text">Google Play</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_开发工具"><span class="toc-number">2.</span> <span class="toc-text">Android 开发工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_SDK"><span class="toc-number">2.1.</span> <span class="toc-text">Android SDK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_调试桥（adb）"><span class="toc-number">2.2.</span> <span class="toc-text">Android 调试桥（adb）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_开发工具和_Android_Studio"><span class="toc-number">2.3.</span> <span class="toc-text">Android 开发工具和 Android Studio</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dalvik_虚拟机"><span class="toc-number">2.4.</span> <span class="toc-text">Dalvik 虚拟机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_运行时（ART）"><span class="toc-number">2.5.</span> <span class="toc-text">Android 运行时（ART）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何开发_Android_应用程序"><span class="toc-number">2.6.</span> <span class="toc-text">如何开发 Android 应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#从源代码到_Android_应用程序的转换过程"><span class="toc-number">2.7.</span> <span class="toc-text">从源代码到 Android 应用程序的转换过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安全和权限"><span class="toc-number">3.</span> <span class="toc-text">安全和权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_中的安全概念"><span class="toc-number">3.1.</span> <span class="toc-text">Android 中的安全概念</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">4.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_设备模拟器和_Android_虚拟设备"><span class="toc-number">5.</span> <span class="toc-text">Android 设备模拟器和 Android 虚拟设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_模拟器和_Android_虚拟设备"><span class="toc-number">5.1.</span> <span class="toc-text">Android 模拟器和 Android 虚拟设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_模拟器设备的一些快捷键"><span class="toc-number">5.2.</span> <span class="toc-text">Android 模拟器设备的一些快捷键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#谷歌的_Android_AVD"><span class="toc-number">5.3.</span> <span class="toc-text">谷歌的 Android AVD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#速度优化"><span class="toc-number">5.4.</span> <span class="toc-text">速度优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#英特尔系统镜像"><span class="toc-number">5.5.</span> <span class="toc-text">英特尔系统镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他（第三方）模拟器"><span class="toc-number">5.6.</span> <span class="toc-text">其他（第三方）模拟器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：创建一个_Android_虚拟设备（AVD）"><span class="toc-number">6.</span> <span class="toc-text">练习：创建一个 Android 虚拟设备（AVD）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#目标"><span class="toc-number">6.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个_AVD"><span class="toc-number">6.2.</span> <span class="toc-text">创建一个 AVD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动你的_AVD"><span class="toc-number">6.3.</span> <span class="toc-text">启动你的 AVD</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：在_Eclipse_中创建一个_Android_应用程序"><span class="toc-number">7.</span> <span class="toc-text">练习：在 Eclipse 中创建一个 Android 应用程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用_Android_项目向导"><span class="toc-number">7.1.</span> <span class="toc-text">使用 Android 项目向导</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个_Android_项目"><span class="toc-number">7.2.</span> <span class="toc-text">创建一个 Android 项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#练习：启动生成的_Android_应用程序"><span class="toc-number">8.</span> <span class="toc-text">练习：启动生成的 Android 应用程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#启动_AVD"><span class="toc-number">8.1.</span> <span class="toc-text">启动 AVD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动应用程序"><span class="toc-number">8.2.</span> <span class="toc-text">启动应用程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解决_Android_开发问题"><span class="toc-number">9.</span> <span class="toc-text">解决 Android 开发问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#连接_Android_源代码"><span class="toc-number">10.</span> <span class="toc-text">连接 Android 源代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#连接源代码到你的_Android_Jar_文件"><span class="toc-number">10.1.</span> <span class="toc-text">连接源代码到你的 Android Jar 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#验证"><span class="toc-number">10.2.</span> <span class="toc-text">验证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集成_ADT_到_Eclipse_中"><span class="toc-number">11.</span> <span class="toc-text">集成 ADT 到 Eclipse 中</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#集成_Android_到_Java_视图中"><span class="toc-number">11.1.</span> <span class="toc-text">集成 Android 到 Java 视图中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_向导"><span class="toc-number">11.2.</span> <span class="toc-text">Android 向导</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDMS_视图"><span class="toc-number">12.</span> <span class="toc-text">DDMS 视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#模拟器控制"><span class="toc-number">12.1.</span> <span class="toc-text">模拟器控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件浏览器"><span class="toc-number">12.2.</span> <span class="toc-text">文件浏览器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_应用程序的一部分"><span class="toc-number">13.</span> <span class="toc-text">Android 应用程序的一部分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_应用程序"><span class="toc-number">13.1.</span> <span class="toc-text">Android 应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android_软件组件"><span class="toc-number">13.2.</span> <span class="toc-text">Android 软件组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#上下文"><span class="toc-number">13.3.</span> <span class="toc-text">上下文</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_应用程序组件概述"><span class="toc-number">14.</span> <span class="toc-text">Android 应用程序组件概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Activity"><span class="toc-number">14.1.</span> <span class="toc-text">Activity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BroatcastReceiver"><span class="toc-number">14.2.</span> <span class="toc-text">BroatcastReceiver</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Service"><span class="toc-number">14.3.</span> <span class="toc-text">Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ContentProvider"><span class="toc-number">14.4.</span> <span class="toc-text">ContentProvider</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_中的基础用户界面组件"><span class="toc-number">15.</span> <span class="toc-text">Android 中的基础用户界面组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Activity-1"><span class="toc-number">15.1.</span> <span class="toc-text">Activity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fragments"><span class="toc-number">15.2.</span> <span class="toc-text">Fragments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#视图和布局管理"><span class="toc-number">15.3.</span> <span class="toc-text">视图和布局管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特定设备布局的配置"><span class="toc-number">15.4.</span> <span class="toc-text">特定设备布局的配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他重要的_Android_元素"><span class="toc-number">16.</span> <span class="toc-text">其他重要的 Android 元素</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#主屏幕（Home）和锁屏部件。"><span class="toc-number">16.1.</span> <span class="toc-text">主屏幕（Home）和锁屏部件。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态壁纸"><span class="toc-number">16.2.</span> <span class="toc-text">动态壁纸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android_manifest_文件"><span class="toc-number">17.</span> <span class="toc-text">Android manifest 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#你的Android应用程序的配置"><span class="toc-number">17.1.</span> <span class="toc-text">你的Android应用程序的配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在_AndroidManifest_文件中声明的组件"><span class="toc-number">17.2.</span> <span class="toc-text">在 AndroidManifest 文件中声明的组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#权限"><span class="toc-number">17.3.</span> <span class="toc-text">权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#版本（Version）和包名(Package)"><span class="toc-number">17.4.</span> <span class="toc-text">版本（Version）和包名(Package)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用程序（Application）和组件（Components）"><span class="toc-number">17.5.</span> <span class="toc-text">应用程序（Application）和组件（Components）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#最低和目标版本"><span class="toc-number">17.6.</span> <span class="toc-text">最低和目标版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#权限-1"><span class="toc-number">17.7.</span> <span class="toc-text">权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#所需的设备配置"><span class="toc-number">17.8.</span> <span class="toc-text">所需的设备配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#应用程序的安装位置"><span class="toc-number">17.9.</span> <span class="toc-text">应用程序的安装位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更多信息"><span class="toc-number">17.10.</span> <span class="toc-text">更多信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#资源"><span class="toc-number">18.</span> <span class="toc-text">资源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#资源文件"><span class="toc-number">18.1.</span> <span class="toc-text">资源文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源例子"><span class="toc-number">18.2.</span> <span class="toc-text">资源例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源预选"><span class="toc-number">18.3.</span> <span class="toc-text">资源预选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源_IDs_和_R-java"><span class="toc-number">18.4.</span> <span class="toc-text">资源 IDs 和 R.java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#资源_IDs_的命名规范"><span class="toc-number">18.5.</span> <span class="toc-text">资源 IDs 的命名规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统资源"><span class="toc-number">18.6.</span> <span class="toc-text">系统资源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#布局资源文件"><span class="toc-number">19.</span> <span class="toc-text">布局资源文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#XML_布局文件"><span class="toc-number">19.1.</span> <span class="toc-text">XML 布局文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定义_IDs"><span class="toc-number">19.2.</span> <span class="toc-text">定义 IDs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#最佳实践：通过单独文件预定义_IDs"><span class="toc-number">19.3.</span> <span class="toc-text">最佳实践：通过单独文件预定义 IDs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布局的性能注意事项"><span class="toc-number">19.4.</span> <span class="toc-text">布局的性能注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#视图"><span class="toc-number">20.</span> <span class="toc-text">视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#View_类"><span class="toc-number">20.1.</span> <span class="toc-text">View 类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标准视图"><span class="toc-number">20.2.</span> <span class="toc-text">标准视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义视图"><span class="toc-number">20.3.</span> <span class="toc-text">自定义视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#布局管理器和_ViewGroups"><span class="toc-number">21.</span> <span class="toc-text">布局管理器和 ViewGroups</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是布局管理器？"><span class="toc-number">21.1.</span> <span class="toc-text">什么是布局管理器？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重要的布局管理器"><span class="toc-number">21.2.</span> <span class="toc-text">重要的布局管理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布局的属性"><span class="toc-number">21.3.</span> <span class="toc-text">布局的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinearLayout"><span class="toc-number">21.4.</span> <span class="toc-text">LinearLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FrameLayout"><span class="toc-number">21.5.</span> <span class="toc-text">FrameLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RelativeLayout"><span class="toc-number">21.6.</span> <span class="toc-text">RelativeLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GridLayout"><span class="toc-number">21.7.</span> <span class="toc-text">GridLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ScrollView"><span class="toc-number">21.8.</span> <span class="toc-text">ScrollView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用资源"><span class="toc-number">22.</span> <span class="toc-text">使用资源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#在代码中引用资源"><span class="toc-number">22.1.</span> <span class="toc-text">在代码中引用资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在一个_Activity_中访问布局的视图组件"><span class="toc-number">22.2.</span> <span class="toc-text">在一个 Activity 中访问布局的视图组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在_XML_文件中引用资源"><span class="toc-number">22.3.</span> <span class="toc-text">在 XML 文件中引用资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在_XML_文件中引用_Android_系统资源"><span class="toc-number">22.4.</span> <span class="toc-text">在 XML 文件中引用 Android 系统资源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Assets_文件"><span class="toc-number">23.</span> <span class="toc-text">Assets 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是_Assets？"><span class="toc-number">23.1.</span> <span class="toc-text">什么是 Assets？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问_Assets"><span class="toc-number">23.2.</span> <span class="toc-text">访问 Assets</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#部署"><span class="toc-number">24.</span> <span class="toc-text">部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述"><span class="toc-number">24.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过_Eclipse_部署"><span class="toc-number">24.2.</span> <span class="toc-text">通过 Eclipse 部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#导出你的应用程序"><span class="toc-number">24.3.</span> <span class="toc-text">导出你的应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过外部资源安装应用程序"><span class="toc-number">24.4.</span> <span class="toc-text">通过外部资源安装应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Google_Play-1"><span class="toc-number">24.5.</span> <span class="toc-text">Google Play</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/Android/" title="Android">Android<sup>5</sup></a></li>
		
			<li><a href="/categories/English/" title="English">English<sup>1</sup></a></li>
		
			<li><a href="/categories/博客/" title="博客">博客<sup>1</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/总结/" title="总结">总结<sup>6</sup></a></li>
		
			<li><a href="/tags/Android/" title="Android">Android<sup>5</sup></a></li>
		
			<li><a href="/tags/Rosetta-Stone/" title="Rosetta Stone">Rosetta Stone<sup>1</sup></a></li>
		
			<li><a href="/tags/资源/" title="资源">资源<sup>1</sup></a></li>
		
			<li><a href="/tags/学习/" title="学习">学习<sup>1</sup></a></li>
		
			<li><a href="/tags/软件/" title="软件">软件<sup>1</sup></a></li>
		
			<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
		
			<li><a href="/tags/Markdown/" title="Markdown">Markdown<sup>1</sup></a></li>
		
			<li><a href="/tags/GitHub/" title="GitHub">GitHub<sup>1</sup></a></li>
		
			<li><a href="/tags/Git/" title="Git">Git<sup>1</sup></a></li>
		
		</ul>
</div>


  <p class="asidetitle">听歌</p>
<br />
<embed src="http://www.xiami.com/widget/41054614_34615989_231_346_BD3E0F_dddddd_0/collectPlayer.swf" type="application/x-shockwave-flash" width="230" height="346" wmode="opaque"></embed>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hey guy, I&#39;m KimYan, I&#39;m a self-taught programmer. <br/>
			This blog tells my tales of how I approach programming and hacking.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/1038923793" target="_blank" class="icon-weibo" title="weibo"></a>
		
		
		<a href="https://github.com/JinwenYan" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		<a href="https://www.douban.com/people/87069513" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		
		<a href="mailto:kimyan.info@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo" style="color:white;">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Pacman" style="color:white;">Jacman</a> © 2014 
		
		<a href="http://www.yanjinwen.com/about" target="_blank" title="KimYan" style="color:white;">KimYan</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"kimyan"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>





<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<script src="/js/totop.js"></script>




  </body>
</html>
